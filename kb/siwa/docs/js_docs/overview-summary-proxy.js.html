<!doctype html public "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<html>
<head>
<title>
 Overview
</title>
<link rel ="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script>
function asd() {
	
		parent.document.title="proxy.js Overview";
	
}
</script>
</head>
<body bgcolor="white" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> 	<font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top">
<em>
<b></b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<center>
	
	   <h2>proxy.js</h2>
	
</center>

	


<h4>Summary</h4>
<p>
	
		No overview generated for 'proxy.js'<BR/><BR/>
	
</p>

<hr>



<!-- ========== METHOD SUMMARY =========== -->

	<a name="method_summary"><!-- --></a>
	<table border="1" cellpadding="3" cellspacing="0" width="100%">
		<tr bgcolor="#CCCCFF" class="TableHeadingColor">
			<td colspan=2>
				<font size="+2">
					<b>Method Summary</b>
				</font>
			</td>
		</tr>
	
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!createXMLHttpRequest">createXMLHttpRequest</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 ############### 
	# AJAX Functions #
	################
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!getRequest">getRequest</a></b>(query)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!handleStateChange">handleStateChange</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!htmlGetReq">htmlGetReq</a></b>(url, handler)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 Creates a HTTP GET request and links a handler to the output.
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!htmlPostReq">htmlPostReq</a></b>(url, parameters, handler)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 Creates a HTTP Post request and links a handler to the output.
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!parseResults">parseResults</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!postRequest">postRequest</a></b>(query)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
	
	</table>
    <p>

<!-- ========== END METHOD SUMMARY =========== -->


        <pre class="sourceview">&lt;!--

<span class="comment">/**
 * SIWA Software, version 0.9
 * Last update: February 24th, 2010
 *
 * Developer: Thomas Beekman, The National Library of the Netherlands
 * E-mail: tsbeekman<span class="attrib">@gmail</span>.com
 * Date: December 2009 - February 2010
 *
 * This code is used to initialize and use the proxy properly. Since every proxy implementation can 
 * differ, this code is excluded from the siwa.js to make clear which code should be altered in 
 * order to make the proxy work. 
 *
 */</span>

    <span class="comment">/**####################
	#	Global Variables  #
	#####################*/</span>

var proxyUrl = <span class="literal">"http://81.204.248.129/proxy/proxy.php"</span>;		<span class="comment">// The absolute URL to the real proxy</span>


    <span class="comment">/**####################
	#	Proxy functions   #
	#####################*/</span>

<span class="comment">/**
 * Creates a HTTP GET request and links a handler to the output.
 * <span class="attrib">@param</span> url the url to fetch. 
 * <span class="attrib">@param</span> handler a method which should be invoked after the request taking the output as its parameter.
 */</span>
<span class="reserved">function</span> htmlGetReq(url, handler) {
	var xmlHttp = createXMLHttpRequest();
		
	url = encodeURIComponent(url);
	url = proxyUrl + <span class="literal">"?url="</span> + url + <span class="literal">"&amp;method=GET"</span>;
	
	<span class="comment">// Invoke the handler function when the http response is OK and Ready</span>
	xmlHttp.onreadystatechange = <span class="reserved">function</span> () {
		<span class="reserved">if</span> ((xmlHttp.readyState == 4) &amp;&amp; (xmlHttp.status == 200)) 		
			handler(xmlHttp.responseText);        		
	}	
	
    xmlHttp.open(<span class="literal">"GET"</span>, url, true);
    xmlHttp.send(null);
}

<span class="comment">/**
 * Creates a HTTP Post request and links a handler to the output.
 * <span class="attrib">@param</span> url the url to fetch. 
 * <span class="attrib">@param</span> parameters parameters for the POST action.
 * <span class="attrib">@param</span> handler a method which should be invoked after the request taking the output as its parameter.
 */</span>
<span class="reserved">function</span> htmlPostReq(url, parameters, handler) {
	var xmlHttp = createXMLHttpRequest();
	
	url = encodeURIComponent(url);
	parameters = encodeURIComponent(parameters);
	
	url = proxyUrl + <span class="literal">"?url="</span> + url + <span class="literal">"&amp;pars="</span> + parameters + <span class="literal">"&amp;method=POST"</span>;
	
	<span class="comment">// Invoke the handler function when the http response is OK and Ready</span>
	xmlHttp.onreadystatechange = <span class="reserved">function</span> () {
		<span class="reserved">if</span> ((xmlHttp.readyState == 4) &amp;&amp; (xmlHttp.status == 200)) 		
			handler(xmlHttp.responseText);        		
	}	
	
    xmlHttp.open(<span class="literal">"GET"</span>, url, true);
    xmlHttp.send(null);	
}


	<span class="comment">/**############### 
	# AJAX Functions #
	################*/</span>

<span class="comment">// Mainly legacy code. Will be removed in future releases.	</span>
<span class="reserved">function</span> createXMLHttpRequest() {
    <span class="reserved">if</span> (window.ActiveXObject)
        xmlHttp = new ActiveXObject(<span class="literal">"Microsoft.XMLHTTP"</span>);    
    <span class="reserved">else</span> <span class="reserved">if</span> (window.XMLHttpRequest) 
        xmlHttp = new XMLHttpRequest(); 
	<span class="reserved">return</span> xmlHttp;
}
 
<span class="reserved">function</span> getRequest(query) {
    createXMLHttpRequest();
          
    var queryString = <span class="literal">"whatever.php?"</span> + query;
    
    xmlHttp.onreadystatechange = handleStateChange;
    xmlHttp.open(<span class="literal">"GET"</span>, queryString, true);
    xmlHttp.send(null);
}

<span class="reserved">function</span> postRequest(query) {
    createXMLHttpRequest();
    
    var url = <span class="literal">"whatever.php"</span>;
   
    xmlHttp.open(<span class="literal">"POST"</span>, url, true);
    xmlHttp.onreadystatechange = handleStateChange;
    xmlHttp.setRequestHeader(<span class="literal">"Content-Type"</span>, <span class="literal">"application/x-www-form-urlencoded"</span>);    
    xmlHttp.send(query);
}
    
<span class="reserved">function</span> handleStateChange() {
    <span class="reserved">if</span> (xmlHttp.readyState == 4) {
        <span class="reserved">if</span> (xmlHttp.status == 200) 
            alert(<span class="literal">"test"</span>);
			<span class="comment">//handler();        </span>
    }
}

<span class="reserved">function</span> parseResults() {
     alert(xmlHttp.responseText);
    <span class="comment">// document.getElementbyId('whatever').innerHTML = xmlHttp.responseText;</span>
}


--&gt;</pre>
	<hr>



<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> <font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top"><em>
<b></b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<font size="-1">

</font>
<div class="jsdoc_ctime">Documentation generated by <a href="http://jsdoc.sourceforge.net/" target="_parent">JSDoc</a> on Thu May  6 15:04:02 2010</div>
</body>
</html>
